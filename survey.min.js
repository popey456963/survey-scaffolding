!function t(e,s,i){function n(r,u){if(!s[r]){if(!e[r]){var a="function"==typeof require&&require;if(!u&&a)return a(r,!0);if(o)return o(r,!0);var d=new Error("Cannot find module '"+r+"'");throw d.code="MODULE_NOT_FOUND",d}var c=s[r]={exports:{}};e[r][0].call(c.exports,function(t){var s=e[r][1][t];return n(s||t)},c,c.exports,t,e,s,i)}return s[r].exports}for(var o="function"==typeof require&&require,r=0;r<i.length;r++)n(i[r]);return n}({1:[function(t,e,s){let i={questions_container_selector:".questions-container",results_container_selector:".results-container",results_selector:".results",questions_selector:".questions",question_selector:".question",item_class:"survey-item",question_class:"question",answer_class:"answer"};class n{constructor(t,e,s){if(this.that=this,void 0===t)throw"Questions should be an object.";void 0===s&&(s={}),void 0===e&&(e=(()=>{})),"object"==typeof e&&(s=e,e=(()=>{})),this.questions=t,this.current_question="start",this.previous=[],this.finish=e,this.options=Object.assign(i,s),this.types={radio:this.radioType,date:this.dateType,text:this.textType};for(var[n,o]of Object.entries(this.questions))this.add_question(n,o);$(this.options.results_selector).hide(),$(this.options.results_selector).removeClass("hidden"),$(`input[type='radio']`).click(t=>{let e=t.target.dataset.question,s=t.target.dataset.answer;console.log("Jumping from radio to",this.questions[e].answers[s].route),this.that.jump_question(this.questions[e].answers[s].route)}),$(".prev").click(()=>{this.that.jump_question(this.previous.pop(),!0)}),$(".back").click(()=>{this.that.jump_question(this.previous.pop(),!0)}),$(".next").click(this.that.next),$(`input[type='text']`).keyup(t=>{13==t.keyCode&&this.that.next()}),$(".datetimepicker").datetimepicker(),$(`.question-${this.current_question}`).addClass("active"),this.enable_buttons()}}n.prototype.add_question=function(t,e){console.log("Adding question",t,e),$(this.options.questions_container_selector).append(`\n    <div class='${this.options.question_class} question-${t}'>\n      <p>${e.question}</p>\n      <div class='${this.options.answer_class} answers-${t}'></div>\n    </div>\n  `),e.answers.forEach(function(e,s){console.log("Looping answer",e,s),this.add_answer(t,s,e)}.bind(this))},n.prototype.add_answer=function(t,e,s){console.log("Adding answer",t,e,s),s.type in this.types&&$(`.answers-${t}`).append(this.types[s.type](t,e,s))},n.prototype.jump_question=function(t,e){t=t||"start",console.log("Switching question",this.current_question,t),"end"==t?(console.log("Questionaire finished"),$(this.options.results_container_selector).html(""),this.finish(this.retrieve_data()),$(this.options.results_selector).slideDown(),$(this.options.questions_selector).slideUp()):"end"==this.current_question?(console.log("Changing values"),$(this.options.results_selector).slideUp(),$(this.options.questions_selector).slideDown()):($(this.options.question_selector).removeClass("active"),$(`.question-${t}`).addClass("active")),e||this.previous.push(this.current_question),this.current_question=t,console.log(`Changed current page to ${this.current_question}`),"end"!=t&&this.enable_buttons()},n.prototype.next=function(){let t=$(`input[name='radio-${this.current_question}']:checked`);this.questions[this.current_question].answers.some(t=>"radio"!=t.type)?(console.log("Jumping from input to",this.questions[this.current_question].answers[0].route),this.jump_question(this.questions[this.current_question].answers[0].route)):t.val()&&(console.log("Jumping from radio next to",this.questions[t.data("question")].answers[t.data("answer")].route),this.jump_question(this.questions[t.data("question")].answers[t.data("answer")].route))},n.prototype.enable_buttons=function(t,e){console.log("Enable buttons for",this.current_question),this.previous.length?$(".prev").removeClass("hidden"):$(".prev").addClass("hidden"),this.questions[this.current_question].answers.some(t=>"radio"!=t.type)||$(`input[name='radio-${this.current_question}']:checked`).val()?$(".next").removeClass("hidden"):$(".next").addClass("hidden")},n.prototype.retrieve_data=function(){let t={};for(let e in this.questions){let s=this.questions[e].answers[0].type;"radio"==s?t[e]=$(`input[name='radio-${e}']:checked`).val():["text","date"].includes(s)&&(t[e]=$(`input[data-question='${e}']`).val())}return t},n.prototype.radioType=function(t,e,s){return`\n    <div class='survey-item'>\n      <input name='radio-${t}' type='radio' id='radio-${t}-${e}' data-question='${t}' data-answer='${e}' value='${s.item}' />\n      <label for='radio-${t}-${e}'>\n        <span></span>\n        <p>${s.item}</p>\n      </label>\n    </div>\n  `},n.prototype.textType=function(t,e,s){return`\n    <div class='survey-item'>\n      <input type='text' placeholder='${s.placeholder}' data-question='${t}'\n    </div>\n  `},n.prototype.dateType=function(t,e,s){return`\n    <div class='survey-item'>\n      <input type='text' class='datetimepicker' id='datetimepicker-${t}' data-question='${t}' data-format='mm/dd/yyyy hh:mm' />\n    </div>\n  `},window.Surveyor=n},{}]},{},[1]);